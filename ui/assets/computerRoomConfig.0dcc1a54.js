import{A as e}from"./api_clusterManage.333bcab0.js";import{n as t,D as r}from"./index.c66ec47f.js";import{b as o,c as l,d as a}from"./verificationRules.28629627.js";const s={};var i=t({name:"clusterInfo",inject:["reload"],data(){return{cluster_type:"",clusterInfoForm:{repl_user:"",db_user:""},clusterInfoFormRules:{cluster_name:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-jiqun-mingcheng"),trigger:"blur"}],vip:[{required:!0,validator:(e,t,r)=>{if(t){let e=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,o=t.split(",");for(let t in o)if(!1===e.test(o[t]))return r(new Error(this.$t("verificationRules.IP-dizhi-buguifan-message")));return r()}return r(new Error(this.$t("verificationRules.qingshuru-IP-dizhi")))},trigger:"blur"}],port:[{required:!0,validator:o,trigger:"blur"},{required:!0,validator:(t,r,o)=>{if(""==this.clusterInfoForm.port)return o();if(this.loading_port=!0,this.savePort==r)return this.loading_port=!1,o();{let t=[];for(let e=0;e<this.clusterInfoForm.host_list.length;e++){let o={host:this.clusterInfoForm.host_list[e],port:r};t.push(o)}Promise.all(t.map((t=>e.checkPortIsUsed(t)))).then((e=>{console.log(e),e.forEach(((t,r)=>(this.loading_port=!1,0!=t.err_code?o(new Error(new Error(e.err_msg))):0==t.is_used&&r==e.length-1?o():1==t.is_used?o(new Error(this.$t("verificationRules.gaiduankou-yibei-m"))):void 0)))}),(e=>(this.loading_port=!1,o(new Error(this.$t("verificationRules.jiancha-qingqiu-chucuo"))))))}},trigger:"blur"}],pgdata:[{required:!0,message:this.$t("verificationRules.qingshuru-shuji-mulu"),trigger:"blur"},{required:!0,validator:(t,r,o)=>{if(!r)return o();if(this.clusterPgdata==r)return o();{let t=[];for(let e=0;e<this.clusterInfoForm.host_list.length;e++){let o={host:this.clusterInfoForm.host_list[e],pgdata:r};t.push(o)}Promise.all(t.map((t=>e.checkPgdataIsUsed(t)))).then((e=>{console.log(e),e.forEach(((t,r)=>0==t.used&&r==e.length-1?o():1==t.used?o(new Error(this.$t("verificationRules.gaishuju-mulu-m"))):void 0))}),(e=>o(new Error(this.$t("verificationRules.jiancha-qingqiu-chucuo")))))}},trigger:"blur"}],db_pass:[{required:!0,message:this.$t("defineDatabasePage.DB-zhongde-mima-placeholder"),trigger:"blur"}],repl_user:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-liufuzhi-yonghu"),trigger:"blur"}],repl_pass:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-liufuzhi-yonghude-mima"),trigger:"blur"}],db_ip_list:[{required:!0,validator:l,trigger:"blur"}],repl_ip_list:[{required:!0,validator:l,trigger:"blur"}],cstlb_list:[{required:!1,validator:a,trigger:"blur"}],read_vip:[{required:!1,validator:(e,t,r)=>{if(t){let e=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,o=t.split(",");for(let t=0;t<o.length;t++)if(!1===e.test(o[t]))return r(new Error(this.$t("verificationRules.IP-dizhi-buguifan-message")));return new Set(o).size!=o.length?r(new Error(this.$t("createStreamReplicationCluster.IPdizhi-buneng-chongfu"))):r()}return r()},trigger:"blur"}],probe_db_name:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-DB"),trigger:"blur"}],probe_interval:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-zhouqi-miao"),trigger:"blur"}],probe_timeout:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-chaoshi-miao"),trigger:"blur"}],probe_retry_cnt:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tanceshibai-message"),trigger:"blur"}],probe_retry_interval:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-shibaihou-message"),trigger:"blur"}],probe_pri_sql:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-zhuku-SQL"),trigger:"blur"}],probe_stb_sql:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-beiku-SQL"),trigger:"blur"}]},clusterState:this.$queryProps.cluster_state,loading:!1,language:"",loading_port:!1,savePort:"",clusterPgdata:""}},watch:{"clusterInfoForm.repl_user":{handler(e,t){e==this.clusterInfoForm.db_user&&(this.clusterInfoForm.repl_pass=this.clusterInfoForm.db_pass)}},"clusterInfoForm.db_user":{handler(e,t){e==this.clusterInfoForm.repl_user&&(this.clusterInfoForm.repl_pass=this.clusterInfoForm.db_pass)}}},methods:{showList:function(){let t=this;t.loading=!0;let o={cluster_id:this.$queryProps.cluster_id};e.getClusterDetail(o).then((function(e){t.loading=!1,t.cluster_type=e.cluster_type,t.clusterPgdata=e.pgdata,t.clusterInfoForm=e,t.savePort=e.port,t.clusterInfoForm.db_pass=r.FromDbText(e.db_pass),t.clusterInfoForm.repl_pass=r.FromDbText(e.repl_pass)}),(function(e){t.loading=!1}))},saveChangesSubmit:function(){let t=this;this.$refs.clusterInfoForm.validate((o=>{if(o){t.loading=!0;let o=Object.assign({},this.clusterInfoForm);o.db_pass=r.ToDbText(o.db_pass),o.repl_pass=r.ToDbText(o.repl_pass),o.db_user==o.repl_user&&(o.repl_pass=o.db_pass),1===this.cluster_type?e.modifyClusterInfo(o).then((function(e){t.loading=!1,t.$refs.clusterInfoForm.resetFields(),t.reload(),t.$message.success({showClose:!0,message:t.$t("baseInfo.xiugai-chenggong"),duration:1500})}),(function(e){t.loading=!1})):2===this.cluster_type&&e.modifySdClusterInfo(o).then((function(e){t.loading=!1,t.$refs.clusterInfoForm.resetFields(),t.reload(),t.$message.success({showClose:!0,message:t.$t("baseInfo.xiugai-chenggong"),duration:1500})}),(function(e){t.loading=!1}))}}))}},mounted:function(){this.cluster_type=this.$queryProps.cluster_type,this.language=localStorage.getItem("language_clup"),this.showList()}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return 1===e.cluster_type?r("el-form",{ref:"clusterInfoForm",staticStyle:{width:"90%","margin-bottom":"100px","margin-top":"20px"},attrs:{model:e.clusterInfoForm,"label-width":"en"==e.language?"160px":"140px",rules:e.clusterInfoFormRules}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("dbList.jiqun-id"),prop:"cluster_id"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.clusterInfoForm.cluster_id,callback:function(t){e.$set(e.clusterInfoForm,"cluster_id",t)},expression:"clusterInfoForm.cluster_id"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("clusterDefine.jiqun-mingcheng"),prop:"cluster_name"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.cluster_name=t.target.value.trim()}},model:{value:e.clusterInfoForm.cluster_name,callback:function(t){e.$set(e.clusterInfoForm,"cluster_name",t)},expression:"clusterInfoForm.cluster_name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("importPatroniCluster.jiqun-VIP"),prop:"vip"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.vip=t.target.value.trim()}},model:{value:e.clusterInfoForm.vip,callback:function(t){e.$set(e.clusterInfoForm,"vip",t)},expression:"clusterInfoForm.vip"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_port,expression:"loading_port"}],attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0)",label:e.$t("defineDatabasePage.shuju-duankou"),prop:"port"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.port=t.target.value.trim()}},model:{value:e.clusterInfoForm.port,callback:function(t){e.$set(e.clusterInfoForm,"port",t)},expression:"clusterInfoForm.port"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.DB-zhongde-yonghu"),prop:"db_user"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.db_user=t.target.value.trim()}},model:{value:e.clusterInfoForm.db_user,callback:function(t){e.$set(e.clusterInfoForm,"db_user",t)},expression:"clusterInfoForm.db_user"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.DB-zhongde-mima"),prop:"db_pass"}},[r("el-input",{attrs:{"show-password":"",readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.db_pass=t.target.value.trim()}},model:{value:e.clusterInfoForm.db_pass,callback:function(t){e.$set(e.clusterInfoForm,"db_pass",t)},expression:"clusterInfoForm.db_pass"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStandbyPage.liufuzhi-yonghu"),prop:"repl_user"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.repl_user=t.target.value.trim()}},model:{value:e.clusterInfoForm.repl_user,callback:function(t){e.$set(e.clusterInfoForm,"repl_user",t)},expression:"clusterInfoForm.repl_user"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStandbyPage.liufuzhi-mima"),prop:"repl_pass"}},[r("el-input",{attrs:{disabled:e.clusterInfoForm.db_user==e.clusterInfoForm.repl_user,"show-password":"",readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.repl_pass=t.target.value.trim()}},model:{value:e.clusterInfoForm.repl_pass,callback:function(t){e.$set(e.clusterInfoForm,"repl_pass",t)},expression:"clusterInfoForm.repl_pass"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.zhidu-VIP"),prop:"read_vip"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.read_vip=t.target.value.trim()}},model:{value:e.clusterInfoForm.read_vip,callback:function(t){e.$set(e.clusterInfoForm,"read_vip",t)},expression:"clusterInfoForm.read_vip"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"240px":"140px",label:e.$t("clusterInfo.zhiduvip-suozai-zhuji"),prop:"read_vip_host"}},[r("el-select",{style:"en"==e.language?"width:350px":"",attrs:{placeholder:e.$t("defineDatabasePage.qingxuanze-shujiku-message")},model:{value:e.clusterInfoForm.read_vip_host,callback:function(t){e.$set(e.clusterInfoForm,"read_vip_host",t)},expression:"clusterInfoForm.read_vip_host"}},e._l(e.clusterInfoForm.host_list,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:16}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.junhenqi-liebiao"),prop:"cstlb_list"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.cstlb_list=t.target.value.trim()}},model:{value:e.clusterInfoForm.cstlb_list,callback:function(t){e.$set(e.clusterInfoForm,"cstlb_list",t)},expression:"clusterInfoForm.cstlb_list"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("clusterInfo.tancce-DB-mingcheng"),prop:"probe_db_name"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.probe_db_name=t.target.value.trim()}},model:{value:e.clusterInfoForm.probe_db_name,callback:function(t){e.$set(e.clusterInfoForm,"probe_db_name",t)},expression:"clusterInfoForm.probe_db_name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-zhouqi-miao"),prop:"probe_interval"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_interval,callback:function(t){e.$set(e.clusterInfoForm,"probe_interval",t)},expression:"clusterInfoForm.probe_interval"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-chaoshi-miao"),prop:"probe_timeout"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_timeout,callback:function(t){e.$set(e.clusterInfoForm,"probe_timeout",t)},expression:"clusterInfoForm.probe_timeout"}})],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-chongshi-cishu"),prop:"probe_retry_cnt"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.qingshuru-tanceshibai-message")}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_retry_cnt,callback:function(t){e.$set(e.clusterInfoForm,"probe_retry_cnt",t)},expression:"clusterInfoForm.probe_retry_cnt"}})],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chongshi-jiange-miao"),prop:"probe_retry_interval"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createPolardbCluster.qingshuru-tanceshibaihou-message")}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_retry_interval,callback:function(t){e.$set(e.clusterInfoForm,"probe_retry_interval",t)},expression:"clusterInfoForm.probe_retry_interval"}})],1)],1)],1)],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-zhuku-SQL"),prop:"probe_pri_sql"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.probe_pri_sql=t.target.value.trim()}},model:{value:e.clusterInfoForm.probe_pri_sql,callback:function(t){e.$set(e.clusterInfoForm,"probe_pri_sql",t)},expression:"clusterInfoForm.probe_pri_sql"}})],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-beiku-SQL"),prop:"probe_stb_sql"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.probe_stb_sql=t.target.value.trim()}},model:{value:e.clusterInfoForm.probe_stb_sql,callback:function(t){e.$set(e.clusterInfoForm,"probe_stb_sql",t)},expression:"clusterInfoForm.probe_stb_sql"}})],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chufa-DBmingcheng"),prop:"trigger_db_name"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.trigger_db_name=t.target.value.trim()}},model:{value:e.clusterInfoForm.trigger_db_name,callback:function(t){e.$set(e.clusterInfoForm,"trigger_db_name",t)},expression:"clusterInfoForm.trigger_db_name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chufa-DBhanshu"),prop:"trigger_db_func"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.trigger_db_func=t.target.value.trim()}},model:{value:e.clusterInfoForm.trigger_db_func,callback:function(t){e.$set(e.clusterInfoForm,"trigger_db_func",t)},expression:"clusterInfoForm.trigger_db_func"}})],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"310px":"",label:e.$t("createStreamReplicationCluster.shifou-zidong-jiahui-jiqun"),prop:"auto_failback"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.beikuguzhang-message"),placement:"top-end"}},[r("el-select",{attrs:{disabled:0!=e.clusterState&&-1!=e.clusterState,placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.clusterInfoForm.auto_failback,callback:function(t){e.$set(e.clusterInfoForm,"auto_failback",t)},expression:"clusterInfoForm.auto_failback"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:1}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:0}})],1)],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"310px":"",label:e.$t("importStreamReplicationCluster.kuajifang-zidongjihuo-zhuku"),prop:"auto_failover"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("importStreamReplicationCluster.zhuku-suozai-message"),placement:"top-end"}},[r("el-select",{attrs:{disabled:0!=e.clusterState&&-1!=e.clusterState,placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.clusterInfoForm.auto_failover,callback:function(t){e.$set(e.clusterInfoForm,"auto_failover",t)},expression:"clusterInfoForm.auto_failover"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:!0}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:!1}})],1)],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"310px":"",label:e.$t("importStreamReplicationCluster.guzhangqiehuan-baochijilian-guanxi"),prop:"failover_keep_cascaded"}},[r("el-select",{attrs:{disabled:0!=e.clusterState&&-1!=e.clusterState,placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.clusterInfoForm.failover_keep_cascaded,callback:function(t){e.$set(e.clusterInfoForm,"failover_keep_cascaded",t)},expression:"clusterInfoForm.failover_keep_cascaded"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:!0}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:!1}})],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"310px":"",label:e.$t("importPolardbCluster.kuazhan-qiehuan-baoliu-jiuzhanvip"),prop:"save_old_room_vip"}},[r("el-select",{attrs:{disabled:0!=e.clusterState&&-1!=e.clusterState,placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.clusterInfoForm.save_old_room_vip,callback:function(t){e.$set(e.clusterInfoForm,"save_old_room_vip",t)},expression:"clusterInfoForm.save_old_room_vip"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:!0}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:!1}})],1)],1)],1)],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.bei-zhu"),prop:"remark"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.remark=t.target.value.trim()}},model:{value:e.clusterInfoForm.remark,callback:function(t){e.$set(e.clusterInfoForm,"remark",t)},expression:"clusterInfoForm.remark"}})],1),r("el-form-item",[0===e.clusterState||-1===e.clusterState?r("p",{staticStyle:{color:"red","font-size":"14px"}},[e._v(" "+e._s(e.$t("clusterInfo.jinggao-xiugaijiqun-message")))]):e._e()]),r("el-form-item",[0===e.clusterState||-1===e.clusterState?r("el-button",{attrs:{type:"primary"},on:{click:e.saveChangesSubmit}},[e._v(e._s(e.$t("editConfigTab.baocun-xiugai"))+" ")]):e._e()],1)],1):2===e.cluster_type?r("el-form",{ref:"clusterInfoForm",staticStyle:{width:"90%","margin-bottom":"100px","margin-top":"20px"},attrs:{model:e.clusterInfoForm,"label-width":"en"==e.language?"190px":"120px",rules:e.clusterInfoFormRules}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("dbList.jiqun-id"),prop:"cluster_id"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.clusterInfoForm.cluster_id,callback:function(t){e.$set(e.clusterInfoForm,"cluster_id",t)},expression:"clusterInfoForm.cluster_id"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("clusterDefine.jiqun-mingcheng"),prop:"cluster_name"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.cluster_name=t.target.value.trim()}},model:{value:e.clusterInfoForm.cluster_name,callback:function(t){e.$set(e.clusterInfoForm,"cluster_name",t)},expression:"clusterInfoForm.cluster_name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("importPatroniCluster.jiqun-VIP"),prop:"vip"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.vip=t.target.value.trim()}},model:{value:e.clusterInfoForm.vip,callback:function(t){e.$set(e.clusterInfoForm,"vip",t)},expression:"clusterInfoForm.vip"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.shuju-duankou"),prop:"port"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.port=t.target.value.trim()}},model:{value:e.clusterInfoForm.port,callback:function(t){e.$set(e.clusterInfoForm,"port",t)},expression:"clusterInfoForm.port"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.shuju-mulu"),prop:"pgdata"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.pgdata=t.target.value.trim()}},model:{value:e.clusterInfoForm.pgdata,callback:function(t){e.$set(e.clusterInfoForm,"pgdata",t)},expression:"clusterInfoForm.pgdata"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.DB-zhongde-yonghu"),prop:"db_user"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.db_user=t.target.value.trim()}},model:{value:e.clusterInfoForm.db_user,callback:function(t){e.$set(e.clusterInfoForm,"db_user",t)},expression:"clusterInfoForm.db_user"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.DB-zhongde-mima"),prop:"db_pass"}},[r("el-input",{attrs:{"show-password":"",readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.db_pass=t.target.value.trim()}},model:{value:e.clusterInfoForm.db_pass,callback:function(t){e.$set(e.clusterInfoForm,"db_pass",t)},expression:"clusterInfoForm.db_pass"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("importSharedDiskCluster.ji-qi-1"),prop:"host1_ip"}},[r("el-input",{attrs:{disabled:"",readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.host1_ip=t.target.value.trim()}},model:{value:e.clusterInfoForm.host1_ip,callback:function(t){e.$set(e.clusterInfoForm,"host1_ip",t)},expression:"clusterInfoForm.host1_ip"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("importSharedDiskCluster.ji-qi-2"),prop:"host2_ip"}},[r("el-input",{attrs:{disabled:"",readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.host2_ip=t.target.value.trim()}},model:{value:e.clusterInfoForm.host2_ip,callback:function(t){e.$set(e.clusterInfoForm,"host2_ip",t)},expression:"clusterInfoForm.host2_ip"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("importSharedDiskCluster.xuanze-dangqian-zhuji"),prop:"primary"}},[r("el-select",{attrs:{disabled:"",placeholder:e.$t("defineDatabasePage.qingxuanze-zhuji")},model:{value:e.clusterInfoForm.primary,callback:function(t){e.$set(e.clusterInfoForm,"primary",t)},expression:"clusterInfoForm.primary"}},[r("el-option",{attrs:{label:e.$t("importSharedDiskCluster.ji-qi-1"),value:1}}),r("el-option",{attrs:{label:e.$t("importSharedDiskCluster.ji-qi-2"),value:2}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:e.$t("importSharedDiskCluster.fangnaolie-reset-mingling-1"),prop:"host1_reset_cmd"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.host1_reset_cmd=t.target.value.trim()}},model:{value:e.clusterInfoForm.host1_reset_cmd,callback:function(t){e.$set(e.clusterInfoForm,"host1_reset_cmd",t)},expression:"clusterInfoForm.host1_reset_cmd"}})],1)],1),r("el-col",{attrs:{span:1}},[r("div",{staticStyle:{"margin-left":"5px",height:"20px","padding-top":"8px"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[r("div",{staticStyle:{"overflow-y":"auto","white-space":"pre-wrap"},attrs:{slot:"content"},slot:"content"},[r("pre",[e._v(e._s(e.$t("createPolardbCluster.fangnaolie-question")))])]),r("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}}),r("i",{staticClass:"el-icon-question"})])],1)]),r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:e.$t("importSharedDiskCluster.fangnaolie-reset-mingling-2"),prop:"host2_reset_cmd"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.host2_reset_cmd=t.target.value.trim()}},model:{value:e.clusterInfoForm.host2_reset_cmd,callback:function(t){e.$set(e.clusterInfoForm,"host2_reset_cmd",t)},expression:"clusterInfoForm.host2_reset_cmd"}})],1)],1),r("el-col",{attrs:{span:1}},[r("div",{staticStyle:{"margin-left":"5px",height:"20px","padding-top":"8px"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[r("div",{staticStyle:{"overflow-y":"auto","white-space":"pre-wrap"},attrs:{slot:"content"},slot:"content"},[r("pre",[e._v(e._s(e.$t("createPolardbCluster.fangnaolie-question")))])]),r("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}}),r("i",{staticClass:"el-icon-question"})])],1)])],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("HAManage.gongxiang-cipan"),prop:"shared_disk"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.shared_disk=t.target.value.trim()}},model:{value:e.clusterInfoForm.shared_disk,callback:function(t){e.$set(e.clusterInfoForm,"shared_disk",t)},expression:"clusterInfoForm.shared_disk"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("importSharedDiskCluster.guazai-mulu"),prop:"mount_path"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.mount_path=t.target.value.trim()}},model:{value:e.clusterInfoForm.mount_path,callback:function(t){e.$set(e.clusterInfoForm,"mount_path",t)},expression:"clusterInfoForm.mount_path"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("clusterInfo.tancce-DB-mingcheng"),prop:"probe_db_name"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.probe_db_name=t.target.value.trim()}},model:{value:e.clusterInfoForm.probe_db_name,callback:function(t){e.$set(e.clusterInfoForm,"probe_db_name",t)},expression:"clusterInfoForm.probe_db_name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-zhouqi-miao"),prop:"probe_interval"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_interval,callback:function(t){e.$set(e.clusterInfoForm,"probe_interval",t)},expression:"clusterInfoForm.probe_interval"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-chaoshi-miao"),prop:"probe_timeout"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_timeout,callback:function(t){e.$set(e.clusterInfoForm,"probe_timeout",t)},expression:"clusterInfoForm.probe_timeout"}})],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-chongshi-cishu"),prop:"probe_retry_cnt"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.qingshuru-tanceshibai-message")}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_retry_cnt,callback:function(t){e.$set(e.clusterInfoForm,"probe_retry_cnt",t)},expression:"clusterInfoForm.probe_retry_cnt"}})],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chongshi-jiange-miao"),prop:"probe_retry_interval"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createPolardbCluster.qingshuru-tanceshibaihou-message")}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},model:{value:e.clusterInfoForm.probe_retry_interval,callback:function(t){e.$set(e.clusterInfoForm,"probe_retry_interval",t)},expression:"clusterInfoForm.probe_retry_interval"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-zhuku-SQL"),prop:"probe_sql"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.probe_sql=t.target.value.trim()}},model:{value:e.clusterInfoForm.probe_sql,callback:function(t){e.$set(e.clusterInfoForm,"probe_sql",t)},expression:"clusterInfoForm.probe_sql"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createPolardbCluster.hulue-reset-zhixingjieguo"),prop:"ignore_reset_cmd_return_code"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createPolardbCluster.zaijiqun-xiufu-guochengzhong-message"),placement:"top-end"}},[r("el-select",{attrs:{disabled:0!=e.clusterState&&-1!=e.clusterState,filterable:"",placeholder:"$t('createDatabasePage.qing-xuan-ze')"},model:{value:e.clusterInfoForm.ignore_reset_cmd_return_code,callback:function(t){e.$set(e.clusterInfoForm,"ignore_reset_cmd_return_code",t)},expression:"clusterInfoForm.ignore_reset_cmd_return_code"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:1}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:0}})],1)],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chufa-DBmingcheng"),prop:"trigger_db_name"}},[r("el-input",{on:{blur:function(t){e.clusterInfoForm.trigger_db_name=t.target.value.trim()}},model:{value:e.clusterInfoForm.trigger_db_name,callback:function(t){e.$set(e.clusterInfoForm,"trigger_db_name",t)},expression:"clusterInfoForm.trigger_db_name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chufa-DBhanshu"),prop:"trigger_db_func"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.trigger_db_func=t.target.value.trim()}},model:{value:e.clusterInfoForm.trigger_db_func,callback:function(t){e.$set(e.clusterInfoForm,"trigger_db_func",t)},expression:"clusterInfoForm.trigger_db_func"}})],1)],1)],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.bei-zhu"),prop:"remark"}},[r("el-input",{attrs:{readonly:0!=e.clusterState&&-1!=e.clusterState&&"readonly"},on:{blur:function(t){e.clusterInfoForm.remark=t.target.value.trim()}},model:{value:e.clusterInfoForm.remark,callback:function(t){e.$set(e.clusterInfoForm,"remark",t)},expression:"clusterInfoForm.remark"}})],1),r("el-form-item",[0===e.clusterState||-1===e.clusterState?r("p",{staticStyle:{color:"red","font-size":"14px"}},[e._v(" "+e._s(e.$t("clusterInfo.jinggao-xiugai-zhengzaiyunxing-message")))]):e._e()]),r("el-form-item",[0===e.clusterState||-1===e.clusterState?r("el-button",{attrs:{type:"primary"},on:{click:e.saveChangesSubmit}},[e._v(e._s(e.$t("editConfigTab.baocun-xiugai"))+" ")]):e._e()],1)],1):e._e()}),[],!1,n,"2ff5b1bf",null,null);function n(e){for(let t in s)this[t]=s[t]}var u=function(){return i.exports}();const c={};var m=t({name:"dbList",components:{},data(){return{clusterState:this.$route.query.cluster_state,rows:[],total:0,page:1,size:20,roomList:[],loading:!1,addFormVisible:!1,addFormRules:{room_name:[{required:!0,message:this.$t("polarDbComputerRoomConfig.qingshuru-jifangmingcheng"),trigger:"blur"}],vip:[{required:!0,message:this.$t("polarDbComputerRoomConfig.qingshuru-VIP"),trigger:"blur"},{required:!0,validator:l,trigger:"blur"}],read_vip:[{required:!1,message:this.$t("polarDbComputerRoomConfig.qingshuru-zhidu-VIP"),trigger:"blur"},{required:!1,validator:l,trigger:"blur"}],cstlb_list:[{required:!1,validator:a,trigger:"blur"}]},addForm:{scores:100},currentRow:"",editFormVisible:!1,editFormRules:{room_name:[{required:!0,message:this.$t("polarDbComputerRoomConfig.qingshuru-jifangmingcheng"),trigger:"blur"}],vip:[{required:!0,message:this.$t("polarDbComputerRoomConfig.qingshuru-VIP"),trigger:"blur"},{required:!0,validator:l,trigger:"blur"}],read_vip:[{required:!1,message:this.$t("polarDbComputerRoomConfig.qingshuru-zhidu-VIP"),trigger:"blur"},{required:!1,validator:l,trigger:"blur"}],cstlb_list:[{required:!1,validator:a,trigger:"blur"}]},editForm:{}}},watch:{"editForm.is_rewind":function(e){e||(this.editForm.is_rebuild=!1)},"editForm.is_rebuild":function(e){e&&(this.editForm.is_rewind=!0)}},methods:{tableRowClassName:({row:e,rowIndex:t})=>t%2!=0?"warning-row":"success-row",showdbList:function(){let t=this;t.loading=!0;let r={cluster_id:t.$route.query.cluster_id};e.getSrClusterRoomInfo(r).then((function(e){t.loading=!1,t.rows=e}),(function(e){t.loading=!1}))},showAddDialog:function(){this.addForm={room_name:"",vip:"",read_vip:"",cstlb_list:""},this.addFormVisible=!0},addFormSubmit:function(){let e=this;this.$refs.addForm.validate((t=>{if(t){e.addForm;let t=Object.assign({},this.addForm);t.room_id=Number(e.rows[e.rows.length-1].room_id)+1,e.rows.push(t),e.saveRoomChange()}}))},showEditDialog:function(e,t){const r=this;for(var o in r.editFormVisible=!0,r.currentRow=t,r.editForm=Object.assign({},t),r.editForm)r.editForm[o]=r.editForm[o].toString().trim();r.editForm.index=e},saveRoomChange:function(){const t=this;let r={cluster_id:t.$route.query.cluster_id,room_info:{}};t.loading=!0;for(let e=0;e<t.rows.length;e++)r.room_info[t.rows[e].room_id]={room_name:t.rows[e].room_name,vip:t.rows[e].vip,read_vip:t.rows[e].read_vip,cstlb_list:t.rows[e].cstlb_list};e.updateSrClusterRoomInfo(r).then((function(e){t.loading=!1,t.addFormVisible=!1,t.editFormVisible=!1,t.showdbList()}),(function(e){t.loading=!1}))},editFormSubmit:function(){let e=this;e.$refs.editForm.validate((t=>{console.log(t),t&&(e.rows.splice(e.editForm.index,1,e.editForm),e.saveRoomChange())}))},deldbList:function(t,r){this.$confirm(this.$t("polarDbComputerRoomConfig.qingqueren-jiangci-message")+r.room_id+this.$t("polarDbComputerRoomConfig.jifang-mingcheng-message")+r.room_name+this.$t("polarDbComputerRoomConfig.yichuma-mewssage"),this.$t("index.ti-shi"),{type:"warning",closeOnClickModal:!1}).then((()=>{const t=this;let o={cluster_id:t.$route.query.cluster_id,room_id:r.room_id};t.loading=!0,e.deleteSrClusterRoomInfo(o).then((function(e){t.loading=!1,t.showdbList()}),(function(e){t.loading=!1}))})).catch((()=>{}))}},mounted:function(){this.showdbList()},destroyed(){clearInterval(this.intervalID)}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",[r("el-col",[0===e.clusterState||-1===e.clusterState?r("el-button",{staticStyle:{margin:"10px 0"},attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v(e._s(e.$t("polarDbComputerRoomConfig.zeng-jia")))]):e._e(),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.rows,border:"","element-loading-text":e.$t("Public.ping-ming-jia-zai-zhong")}},[r("el-table-column",{attrs:{prop:"room_id",label:e.$t("polarDbComputerRoomConfig.jifang-id"),align:"center",width:"120px"}}),r("el-table-column",{attrs:{prop:"room_name",label:e.$t("dbList.jifang-mingcheng"),align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"statefont"},[e._v(" "+e._s("默认机房"==t.row.room_name?e.$t("dbList.moren-jifang"):t.row.room_name))])]}}])}),r("el-table-column",{attrs:{prop:"vip",label:"vip",align:"center",width:"150px"}}),r("el-table-column",{attrs:{prop:"read_vip",label:e.$t("polarDbComputerRoomConfig.zhidu-vip"),align:"center",width:"150px"}}),r("el-table-column",{attrs:{prop:"room_use_state",label:e.$t("polarDbComputerRoomConfig.shiyong-zhuangtai"),align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.room_use_state?r("i",{staticClass:"el-icon-success green"},[r("span",[e._v(" "+e._s(e.$t("polarDbComputerRoomConfig.yi-shi-yong")))])]):e._e(),0==t.row.room_use_state?r("i",{staticClass:"el-icon-info"},[r("span",[e._v(" "+e._s(e.$t("polarDbComputerRoomConfig.wei-shi-yong")))])]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"cstlb_list",label:e.$t("createStreamReplicationCluster.junhenqi-liebiao"),align:"center"}}),r("el-table-column",{attrs:{prop:"handle",label:e.$t("clusterDefine.caozuo"),align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==e.clusterState||-1==e.clusterState?r("span",[r("el-link",{staticClass:"normal",on:{click:function(r){return e.showEditDialog(t.$index,t.row)}}},[e._v(e._s(e.$t("alarmSet.xiugai")))]),1!==t.row.is_primary?r("el-link",{staticClass:"normal",on:{click:function(r){return e.deldbList(t.$index,t.row)}}},[e._v(e._s(e.$t("alarmInformationConfig.yichu")))]):e._e()],1):e._e()]}}])})],1),r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"append-to-body":!0,title:e.$t("polarDbComputerRoomConfig.tianjia-shujuku-shili"),visible:e.addFormVisible,"close-on-click-modal":!1,"element-loading-text":e.$t("Public.ping-ming-jia-zai-zhong")},on:{"update:visible":function(t){e.addFormVisible=t}}},[r("el-form",{ref:"addForm",staticStyle:{width:"90%"},attrs:{model:e.addForm,"label-width":"100px",rules:e.addFormRules}},[r("el-form-item",{attrs:{label:e.$t("dbList.jifang-mingcheng"),prop:"room_name"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-jifangmingcheng")},model:{value:e.addForm.room_name,callback:function(t){e.$set(e.addForm,"room_name",t)},expression:"addForm.room_name"}})],1),r("el-form-item",{attrs:{label:"vip",prop:"vip"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-vip")},model:{value:e.addForm.vip,callback:function(t){e.$set(e.addForm,"vip",t)},expression:"addForm.vip"}})],1),r("el-form-item",{attrs:{label:e.$t("polarDbComputerRoomConfig.zhidu-vip"),prop:"read_vip"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-read_vip")},model:{value:e.addForm.read_vip,callback:function(t){e.$set(e.addForm,"read_vip",t)},expression:"addForm.read_vip"}})],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.junhenqi-liebiao"),prop:"cstlb_list"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-jujnhengqi-liebiao")},model:{value:e.addForm.cstlb_list,callback:function(t){e.$set(e.addForm,"cstlb_list",t)},expression:"addForm.cstlb_list"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v(e._s(e.$t("index.qu-xiao")))]),r("el-button",{attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return e.addFormSubmit(t)}}},[e._v(e._s(e.$t("defineDatabasePage.ti-jiao")))])],1)],1),r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"append-to-body":!0,title:e.$t("alarmSet.xiugai"),visible:e.editFormVisible,"close-on-click-modal":!1,"element-loading-text":e.$t("Public.ping-ming-jia-zai-zhong")},on:{"update:visible":function(t){e.editFormVisible=t}}},[r("el-form",{ref:"editForm",staticStyle:{width:"90%"},attrs:{model:e.editForm,"label-width":"140px",rules:e.editFormRules}},[r("el-form-item",{attrs:{label:e.$t("dbList.jifang-mingcheng"),prop:"room_name"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-jifangmingcheng")},model:{value:e.editForm.room_name,callback:function(t){e.$set(e.editForm,"room_name",t)},expression:"editForm.room_name"}})],1),r("el-form-item",{attrs:{label:"vip",prop:"vip"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-vip")},model:{value:e.editForm.vip,callback:function(t){e.$set(e.editForm,"vip",t)},expression:"editForm.vip"}})],1),r("el-form-item",{attrs:{label:e.$t("polarDbComputerRoomConfig.zhidu-vip"),prop:"read_vip"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-read_vip")},model:{value:e.editForm.read_vip,callback:function(t){e.$set(e.editForm,"read_vip",t)},expression:"editForm.read_vip"}})],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.junhenqi-liebiao"),prop:"cstlb_list"}},[r("el-input",{attrs:{placeholder:e.$t("polarDbComputerRoomConfig.qingshuru-jujnhengqi-liebiao")},model:{value:e.editForm.cstlb_list,callback:function(t){e.$set(e.editForm,"cstlb_list",t)},expression:"editForm.cstlb_list"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v(e._s(e.$t("index.qu-xiao")))]),r("el-button",{attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return e.editFormSubmit(t)}}},[e._v(e._s(e.$t("defineDatabasePage.ti-jiao")))])],1)],1)],1)],1)}),[],!1,p,"4668d31c",null,null);function p(e){for(let t in c)this[t]=c[t]}var d=function(){return m.exports}();export{d as a,u as c};
